## 签到系统测试计划

### 1. 会员签到测试

#### 1.1 月卡会员测试
- [ ] 单日月卡会员每天第一次签到（应为正常签到）
- [ ] 单日月卡会员同一天第二次签到（应为额外签到）
- [ ] 双日月卡会员每天前两次签到（应为正常签到）
- [ ] 双日月卡会员同一天第三次签到（应为额外签到）
- [ ] 过期月卡会员签到（应为额外签到）

#### 1.2 次卡会员测试
- [ ] 有剩余课时的会员签到（应为正常签到）
- [ ] 无剩余课时的会员签到（应为额外签到）
- [ ] 签到后课时数是否正确扣减

#### 1.3 重复签到测试
- [ ] 同一会员同一日期同一时段（早课/晚课）重复签到（应被阻止）
- [ ] 同一会员同一日期不同时段签到（应允许，根据会员卡类型判断是否为额外签到）

### 2. 新会员签到测试

#### 2.1 基本功能测试
- [ ] 新会员首次签到（应标记为额外签到）
- [ ] 新会员签到后状态更新（is_new_member 应变为 false）

#### 2.2 重名处理测试
- [ ] 使用已存在会员姓名注册（应提示前往会员签到页面）
- [ ] 使用新姓名注册（应成功创建新会员）

### 3. 会员查找测试

#### 3.1 精确匹配测试
- [ ] 使用完整姓名查找（应精确匹配）
- [ ] 使用邮箱验证（当存在重名时）

#### 3.2 特殊情况测试
- [ ] 处理重名会员（应要求提供邮箱）
- [ ] 处理不存在的会员（应建议前往新会员签到）

### 4. 数据完整性测试

#### 4.1 签到记录测试
- [ ] 验证签到记录是否正确保存
- [ ] 验证签到类型（正常/额外）是否正确标记
- [ ] 验证签到时间和课程类型是否正确记录

#### 4.2 会员信息更新测试
- [ ] 验证课时扣减是否正确
- [ ] 验证额外签到计数是否正确更新
- [ ] 验证新会员状态是否正确更新

### 5. 错误处理测试

#### 5.1 输入验证
- [ ] 空名字处理
- [ ] 特殊字符处理
- [ ] 邮箱格式验证

#### 5.2 错误提示
- [ ] 验证所有错误消息是否清晰易懂
- [ ] 验证错误提示是否包含中英双语
- [ ] 验证错误提示是否包含后续操作建议

### 6. 重名验证测试

#### 6.1 基本验证流程
- [ ] 输入重名会员（应显示邮箱验证界面）
- [ ] 不输入邮箱直接提交（应显示邮箱必填错误）
- [ ] 输入无效邮箱（应显示邮箱格式错误）
- [ ] 输入正确邮箱（应成功找到对应会员）

#### 6.2 邮箱验证场景
- [ ] 输入正确的名字和对应邮箱（应成功签到）
- [ ] 输入正确的名字但错误的邮箱（应显示验证失败）
- [ ] 取消邮箱验证（应返回到普通签到界面）

#### 6.3 边界情况测试
- [ ] 重名会员使用不同邮箱（应正确区分）
- [ ] 重名会员一个有邮箱一个没有（应要求提供邮箱）
- [ ] 重名会员都没有邮箱（应要求提供邮箱）